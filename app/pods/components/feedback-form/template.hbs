<form class="max-w-md" {{action "sendFeedback" on="submit"}}>
  {{#if this.feedbackSent}}
    <UiAlert data-test-id="feedback-success" @variant="success">
      Thank you for contacting us! If you require immediate assistance, please call us at
      <br>
      (706) 279-9277.
    </UiAlert>
  {{/if}}

  {{#if this.showServerError}}
    <UiAlert data-test-id="server-error" @variant="danger">
      Oops, something went wrong. Please try again.
    </UiAlert>
  {{/if}}

  {{#if this.showInvalidFormError}}
    <UiAlert data-test-id="feedback-error" @variant="danger">
      {{#if this.recaptchaInvalid}}
        Invalid reCaptcha response, please try again
      {{else}}
        Please fill out the form and try sending again.
      {{/if}}
    </UiAlert>
  {{/if}}

  {{#unless this.feedbackSent}}
    <div>
      <label class="sr-only" for="name">Your Name</label>
      <UiTextbox id="name" placeholder="Your Name" @value={{this.name}} />
    </div>
    <div class="mt-4">
      <label class="sr-only" for="email">Your E-mail</label>
      <UiTextbox @type="email" id="email" placeholder="Your E-mail" @value={{this.email}} />
    </div>
    <div class="mt-4">
      <label class="sr-only" for="message">Your Message</label>
      <UiTextarea id="message" placeholder="Your Message" rows="7" @value={{this.message}} />
    </div>
    {{#if showReCaptcha}}
      <div class="mt-4">
        <GRecaptcha @onSuccess={{action "onCaptchaResolved"}} />
      </div>
    {{/if}}
    <div class="mt-4">
      <Button type="submit" @disabled={{this.sendFeedbackTask.isRunning}}>Send</Button>
    </div>
  {{/unless}}
</form>
